## 功能說明書：登入頁面 API

### 檔案路徑
`k8s-shopping-site_3_python_nosql\LoginPage.py`

### 功能概述
`LoginPage.py` 是一個用於提供使用者登入功能的 Flask 應用程式。該腳本建立了一個 API 端點，使用者可以透過該端點提交登入資訊，系統將驗證其憑證，並回傳相應的回應。

### 功能詳述

1. **載入環境變數**
   - 使用 `dotenv` 套件載入 `.env` 檔案中的環境變數，這些變數包含應用程式的配置，例如 MongoDB 的連接 URI。

2. **建立 Flask 應用程式**
   - 初始化 Flask 應用程式實例，並設定為開發模式以便於除錯。

3. **連接到 MongoDB**
   - 根據環境變數中的 `MONGODB_URI`，或使用預設的 `mongodb://localhost:27017` 來連接到 MongoDB，並選擇資料庫 `ShoppingSiteDB`。

4. **登入 API 端點**
   - 定義 API 端點 `/api/login`，支援 `POST` 方法，用於處理使用者登入請求。
   - 接收 JSON 格式的請求資料，提取 `username` 和 `password`。

5. **查詢使用者資料**
   - 在 MongoDB 中查詢與提供的使用者名稱相符的使用者資料。
   - 若找到該使用者，將檢查提供的密碼是否與資料庫中的密碼匹配。

6. **驗證使用者**
   - 若使用者名稱和密碼匹配，回傳 JSON 格式的回應 `{'success': True}`，並狀態碼 `200`。
   - 若使用者名稱不存在或密碼不匹配，回傳 JSON 格式的回應 `{'success': False}`，並狀態碼 `401`，表示未授權。

7. **啟動應用程式**
   - 在腳本直接執行時，啟動 Flask 應用程式，並監聽預設的主機和端口（通常為 `127.0.0.1:5000`）。

### 使用說明
要運行此腳本，請確保已安裝必要的 Python 套件，並在 `.env` 檔案中設定有效的 MongoDB URI。運行腳本後，使用者可以通過發送 `POST` 請求到 `/api/login` 端點來執行登入操作。

### 依賴項
- `Flask`: 用於建立 Web 應用程式的框架。
- `pymongo`: 用於連接和操作 MongoDB。
- `dotenv`: 用於從 `.env` 檔案載入環境變數。