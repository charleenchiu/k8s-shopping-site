## 功能說明書：Product Service
`product-service` 相關檔案的功能說明書，分別針對 `app.py`、`ProductCRUDPage.py`、`test_product-service.py` 和 `Dockerfile` 進行描述。

### 1. 概述

Product Service 是一個基於 Flask 框架的 RESTful API，主要功能是管理商品資訊，並提供 CRUD（建立、讀取、更新、刪除）操作。該服務連接至 MongoDB 資料庫，能夠處理商品的儲存與檢索。

### 2. 功能描述

#### 2.1 主要功能

1. **獲取所有商品**  
   - **路由**：`GET /api/products`  
   - **描述**：返回資料庫中所有商品的列表。  
   - **返回格式**：JSON 陣列。

2. **獲取單一商品**  
   - **路由**：`GET /api/products/<product_id>`  
   - **描述**：根據商品 ID 返回指定商品的詳細資訊。  
   - **返回格式**：JSON 物件；若商品不存在，返回 404 錯誤。

3. **新增商品**  
   - **路由**：`POST /api/products`  
   - **描述**：根據請求主體中的資料創建一個新商品。  
   - **請求格式**：JSON 物件（需包含 `name` 和 `price`）。  
   - **返回格式**：JSON 物件，包含創建的商品資訊；返回狀態碼 201。

4. **更新商品**  
   - **路由**：`PUT /api/products/<product_id>`  
   - **描述**：根據商品 ID 更新指定商品的資訊。  
   - **請求格式**：JSON 物件（可更新的欄位）。  
   - **返回格式**：JSON 物件，顯示更新成功的消息；返回狀態碼 200；若商品不存在，返回 404 錯誤。

5. **刪除商品**  
   - **路由**：`DELETE /api/products/<product_id>`  
   - **描述**：根據商品 ID 刪除指定商品。  
   - **返回格式**：JSON 物件，顯示刪除成功的消息；返回狀態碼 204；若商品不存在，返回 404 錯誤。

#### 2.2 錯誤處理

- 對於未找到的商品，API 將返回 404 狀態碼，並在 JSON 中顯示錯誤訊息 `{"error": "Product not found"}`。
- 對於其他可能的錯誤，API 將返回適當的狀態碼及訊息。

### 3. 技術細節

- **框架**：Flask
- **資料庫**：MongoDB
- **API 格式**：RESTful
- **開發環境**：Python 3.9，搭配 `Flask` 和 `Flask-PyMongo` 套件

### 4. 環境變數

- **MONGO_URI**：MongoDB 的連接字串，應在環境變數中設定。
- **PRODUCT_SERVICE_PORT**：服務運行的埠號（預設為 3002）。

### 5. 測試

API 的測試使用 `requests` 模組來確保各項功能正常運作。測試案例包含獲取商品列表、獲取單一商品、新增商品、更新商品和刪除商品等。

### 6. Dockerfile

該服務包含一個 Dockerfile，以便於在容器中運行：
- 使用 Python 3.9-slim 作為基礎映像。
- 設定工作目錄並安裝必要的套件。
- 開放服務埠 3002。

### 7. 佈署說明

該服務可透過 Docker 進行佈署，確保在 Docker 容器內運行，並與 MongoDB 數據庫進行連接。